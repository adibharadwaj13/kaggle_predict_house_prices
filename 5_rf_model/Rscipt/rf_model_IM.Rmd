---
title: "R Notebook"
output: html_notebook
author: "Ileena Mitra"
date: "March 20th, 2017"
---

#Math 289c Final Project

Set up
```{r echo=FALSE, warning=FALSE}
library(readr)
set.seed(888)
df <- read_csv("~/Google_Drive/UCSD/Winter2017/ExpDataAnalysis/Projects/Final/kaggle_predict_house_prices/cleaned_data/cleandmy.csv")
rownames(df) <- df$Id
df$Id <- NULL
df$X <- NULL
df$X1 <- NULL
```

Split data into test and training sets
```{r}
total.n <- nrow(df)
rand <- sample(seq(1, total.n), total.n*(2/3), replace = F)
train = df[rand,]
test = df[-rand,]
```

Use significant key variables for model
```{r}
num.vars = c("MSSubClass", "LotArea", "OverallQual", "OverallCond", "YearBuilt", "YearRemodAdd", "BsmtQual", "1stFlrSF", "2ndFlrSF", "BsmtFullBath", "FullBath", "Fireplaces", "GarageArea", "GarageQual", "WoodDeckSF", "ScreenPorch", "PoolArea")
char.vars = c("MSZoning.FV", "MSZoning.RH", "MSZoning.RL", "MSZoning.RM", "Neighborhood.BrDale", "Neighborhood.BrkSide", "Neighborhood.CollgCr", "Neighborhood.Edwards", "Neighborhood.Gilbert", "Neighborhood.IDOTRR", "Neighborhood.MeadowV", "Neighborhood.Mitchel", "Neighborhood.NAmes", "Neighborhood.OldTown", "NeighborhoodSawyer", "Neighborhood.SWISU", "Condition2PosA", "BldgType.Twnhs", "BldgType.TwnhsE", "HouseStyle.1Story", "HouseStyle.SFoyer", "RoofMatl.WdShngl", "Foundation.PConc", "Heating.GasW", "HeatingQC.Fa", "HeatingQC.Gd", "HeatingQC.TA")
all.vars = c(num.vars, char.vars)
```

Implement random forest model
Notes from: http://dni-institute.in/blogs/random-forest-using-r-step-by-step-tutorial/

Build Formula
```{r}
library(randomForest)
# add + sign between exploratory variables
varNames <- paste(num.vars, collapse = "+")
 
# Add response variable and convert to a formula object
rf.form <- as.formula(paste("SalePrice", varNames, sep = "~"))
```

Plot decision trees
```{r}
train.rf <- randomForest(rf.form,
                              train,
                              ntree=50,
                              importance=T)

plot(train.rf)
```

